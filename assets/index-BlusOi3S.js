(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();function m(e,o,n){this.title=e,this.author=o,this.isbn=n}function y(){this.bookTitle=document.querySelector("#book_title"),this.author=document.querySelector("#author"),this.isbn=document.querySelector("#isbn"),this.addBook=document.querySelector("#add_book"),this.tableContent=document.querySelector("#book_table"),this.emptyMessage=document.querySelector("#empty_message"),this.alertMessage=document.querySelector("#alert")}function p(){}p.prototype.getFromStore=function(){const e=localStorage.getItem("allBook")||"[]";return JSON.parse(e)};p.prototype.addToStore=function(e){localStorage.setItem("allBook",JSON.stringify(e))};const f=new p;let a=f.getFromStore();function i(){}const h=new i,c=new y;i.prototype.addBook=function(e){const o={title:e.title,author:e.author,isbn:e.isbn};a.push(o),f.addToStore(a)};i.prototype.createTr=function(e){const o=document.createElement("tr");return o.innerHTML=`
              <td>${e.title}</td>
              <td>${e.author}</td>
              <td>${e.isbn}</td>
              <td>
                <button id="delete_btn" title="Delete" data-isbn="${e.isbn}">
                  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ef4444">
                    <path d="M280-120q-33 0-56.5-23.5T200-200v-520q-17 0-28.5-11.5T160-760q0-17 11.5-28.5T200-800h160q0-17 11.5-28.5T400-840h160q17 0 28.5 11.5T600-800h160q17 0 28.5 11.5T800-760q0 17-11.5 28.5T760-720v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM400-280q17 0 28.5-11.5T440-320v-280q0-17-11.5-28.5T400-640q-17 0-28.5 11.5T360-600v280q0 17 11.5 28.5T400-280Zm160 0q17 0 28.5-11.5T600-320v-280q0-17-11.5-28.5T560-640q-17 0-28.5 11.5T520-600v280q0 17 11.5 28.5T560-280ZM280-720v520-520Z"/>
                  </svg>
              </button>
            </td>
        `,o.querySelector("#delete_btn").addEventListener("click",n=>{const s=n.currentTarget.dataset.isbn,t=new i;a=a.filter(r=>r.isbn!==s),f.addToStore(a),c.tableContent.innerHTML="",t.updateUi(),n.currentTarget.closest("tr").remove(),t.checkTableEmpty()}),o};i.prototype.updateUi=function(){const e=c.tableContent;for(let o in a)e.appendChild(h.createTr(a[o]));h.checkTableEmpty()};i.prototype.showAlert=function(e,o,n,s){const t=c.alertMessage;t.textContent=e,t.style.display=s,t.style.color=o,t.style.backgroundColor=n,setTimeout(()=>{t.style.display="none"},3e3)};i.prototype.clearFields=function(){c.bookTitle.value="",c.author.value="",c.isbn.value=""};i.prototype.checkTableEmpty=function(){const e=c.emptyMessage;c.tableContent.getElementsByTagName("tr").length===0?e.classList.add("show"):e.classList.remove("show")};const l=new i;l.checkTableEmpty();l.updateUi();const u=new y;u.addBook.addEventListener("click",function(){const e=u.bookTitle.value.trim(),o=u.author.value.trim(),n=u.isbn.value.trim(),s=new m(e,o,n);s.title===""||s.author===""||s.isbn===""?l.showAlert("please fill the required inputs!!","#eef2ff"," #ef4444","block"):(u.tableContent.innerHTML="",l.addBook(s),l.updateUi(),l.checkTableEmpty(),l.clearFields(),l.showAlert("Book added successfully","#a16207","  #fffacd","block"))});
